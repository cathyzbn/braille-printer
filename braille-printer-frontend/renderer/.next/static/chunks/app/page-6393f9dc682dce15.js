(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9688:(e,t,i)=>{Promise.resolve().then(i.bind(i,7957))},7957:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var r=i(3365),l=i(1521),s=i(7232),n=i(9650),o=i(7616),c=i(4381),d=i(5427),a=i(785),p=i(5199),h=i(7259),x=i(723),u=i(8506),f=i(9410);let j=(0,h.j)({placement:"bottom-end",pauseOnPageIdle:!0}),y=()=>(0,r.jsx)(x.Z,{children:(0,r.jsx)(u.l$,{toaster:j,insetInline:{mdDown:"4"},children:e=>{var t;return(0,r.jsxs)(u.mk,{width:{md:"sm"},children:["loading"===e.type?(0,r.jsx)(p.y,{size:"sm",color:"blue.solid"}):(0,r.jsx)(u.Lv,{}),(0,r.jsxs)(f.B,{gap:"1",flex:"1",maxWidth:"100%",children:[e.title&&(0,r.jsx)(u.Sb,{children:e.title}),e.description&&(0,r.jsx)(u.aD,{children:e.description})]}),e.action&&(0,r.jsx)(u.gC,{children:e.action.label}),(null===(t=e.meta)||void 0===t?void 0:t.closable)&&(0,r.jsx)(u.k1,{})]})}})}),b=(0,i(7745).default)(()=>i.e(661).then(i.bind(i,8234)).then(e=>e.DotLottieReact),{loadableGenerated:{webpack:()=>[8234]},ssr:!1});function m(){let[e,t]=(0,l.useState)(null),[i,h]=(0,l.useState)(""),[x,u]=(0,l.useState)(!1),f=async()=>{if(e){u(!0);try{let t=new FormData;t.append("file",e),t.append("type","pdf"),(await fetch("http://localhost:6969",{method:"POST",body:t})).ok?j.success({title:"Success",description:"PDF file transcribed successfully!"}):j.error({title:"Error",description:"Failed to send PDF file."})}catch(e){j.error({title:"Error",description:"An unexpected error occurred while sending PDF file."})}finally{u(!1)}}},m=async()=>{if(i)try{(await fetch("http://localhost:6969",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"text",payload:i})})).ok?j.success({title:"Success",description:"Text sent successfully!"}):j.error({title:"Error",description:"Failed to send text."})}catch(e){j.error({title:"Error",description:"An unexpected error occurred while sending text."})}};return(0,l.useEffect)(()=>{var e;null===(e=window.electronAPI)||void 0===e||e.setTitle("Braille Printer")},[]),(0,r.jsxs)(s.T,{alignContent:"center",p:3,children:[(0,r.jsx)(y,{}),(0,r.jsxs)(s.T,{borderBottom:"1px solid",borderColor:"gray.300",w:"100%",p:3,children:[(0,r.jsx)(n.z,{children:(0,r.jsx)(o.D,{fontSize:"5xl",children:"Braille Printer"})}),(0,r.jsx)(n.z,{children:(0,r.jsx)(c.E,{fontSize:"2xl",children:"Any PDF to printed braille"})})]}),(0,r.jsx)(b,{src:"./printer.lottie",loop:!0,autoplay:!0,style:{width:"400px",height:"200px"}}),(0,r.jsxs)(s.T,{w:"100%",p:3,children:[(0,r.jsx)(c.E,{fontSize:"xl",children:"Upload a PDF file to get started"}),(0,r.jsx)(d.p,{type:"file",onChange:e=>{e.target.files&&t(e.target.files[0])},accept:".pdf"}),(0,r.jsx)(a.$,{onClick:f,disabled:x,children:"Submit PDF"}),x&&(0,r.jsxs)(n.z,{mt:2,children:[(0,r.jsx)(p.y,{size:"sm"}),(0,r.jsx)(c.E,{children:"Processing..."})]}),(0,r.jsx)(c.E,{fontSize:"xl",mt:4,children:"Or submit plain text"}),(0,r.jsx)(d.p,{placeholder:"Type something...",value:i,onChange:e=>h(e.target.value)}),(0,r.jsx)(a.$,{onClick:m,children:"Submit Text"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[840,264,347,239,358],()=>t(9688)),_N_E=e.O()}]);